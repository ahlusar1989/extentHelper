<!DOCTYPE html>
<html>
    
    <head>
        <title>Create a Map</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=7,IE=9">
        <link rel="stylesheet" href="http://serverapi.arcgisonline.com/jsapi/arcgis/3.3/js/dojo/dijit/themes/claro/claro.css">
        <link rel="stylesheet" href="http://serverapi.arcgisonline.com/jsapi/arcgis/3.3/js/esri/css/esri.css">
        <style>
            html, body, #mapDiv, .map.container {
                padding:0;
                margin:0;
                height:100%;
            }
            #extent {
                font-size: small;
                padding: 5px;
                background-color: rgba(255, 255, 255, .75);
                bottom: 0px;
            }
        </style>
        <script src="http://serverapi.arcgisonline.com/jsapi/arcgis/3.3/"></script>
        <script>
            dojo.require("esri.map");

            function init() {
                map = new esri.Map("mapDiv", {
                    center: [-56.049, 38.485],
                    zoom: 3,
                    basemap: "topo"
                });

                dojo.connect(map, "onExtentChange", function(extent) {
                    getExtent(extent);
                });

                dojo.connect(map, "onPan", function(extent) {
                    getExtent(extent);
                });
            }
            dojo.ready(init);

            function getExtent(extent) {
                //console.log(extent);
                var message = "";
                message = "Xmin: " + extent.xmin + " " + "Ymin: " + extent.ymin + " " + "Xmax: " + extent.xmax + " " + "Ymax: " + extent.ymax + " (wkid: " + extent.spatialReference.wkid + ")";
                dojo.byId("extent").innerText = jsExtent(extent) + "\n" + flexExtent(extent) + "\n" + silverlightExtent(extent);
            }

            function jsExtent(extent) {
                var message;
                message = 'javascript: esri.geometry.Extent({' +
                    ' "xmin":' + extent.xmin +
                    ',"ymin":' + extent.ymin +
                    ',"xmax":' + extent.xmax +
                    ',"ymax":' + extent.ymax +
                    ',"spatialReference":{"wkid":' + extent.spatialReference.wkid +
                    '}});';
                return message;
            }

            function flexExtent(extent) {
                var message;
                message = 'flex: <esri:Extent id="initialExtent"' +
                    ' xmin=' + extent.xmin +
                    ' ymin=' + extent.ymin +
                    ' xmax=' + extent.xmax +
                    ' ymax=' + extent.ymax +
                    '><esri:SpatialReference wkid=' + extent.spatialReference.wkid +
                    '/></esri:Extent>';
                return message;
            }

            function silverlightExtent(extent) {
                var message;
                message = 'silverlight: Extent="' + extent.xmin + ',' + extent.ymin + ',' + extent.xmax + ',' + extent.ymax +
                    '"';
                return message;
            }
        </script>
    </head>
    
    <body class="claro">
        <div id="extent" style="position: absolute; z-index: 10">extent goes here</div>
        <div id="mapDiv"></div>
    </body>

</html>